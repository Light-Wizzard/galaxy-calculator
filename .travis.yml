# The Xenial Build Environment
# https://launchpad.net/~beineri/+archive/ubuntu/opt-qt-5.12.7-xenial
sudo: required
dist: xenial

os:
  - linux

before_install:
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then
      sudo apt-add-repository ppa:beineri/opt-qt-12.7-xenial -y;
      sudo apt-get update -q;
    fi


install:
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then
      sudo apt-get install -y debian-keyring debian-archive-keyring;
      sudo apt-get update -q;
      sudo apt-get install -y build-essential g++ -y;
      sudo apt-get install libgl1-mesa-dev -y;
      sudo apt-get install qt512base qt512tools qt512quickcontrols2 qt512graphicaleffects qt512connectivity qt512svg qt512imageformats -y;
    fi


script:
#  - qmake "CONFIG+=test" GalaticCalculatorLinux.pro # test mode 
#  - make
#  - ./GalaticCalculator # run unit test
#  - rm Makefile GalaticCalculator *.o # remove files (which are generated from unit test) for next build
  - qmake "CONFIG+=release" GalaticCalculatorLinux.pro # we gonna compile for actual program
  - make
  - ./GalaticCalculator # run actual program
# End of File
